!function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t,r){},function(e,t,r){"use strict";r.r(t);r(0);const o={trolley:[],currentOnScreenProducts:[],favourites:[],currentlySelectedItem:[],executed:!1,setState(e){let t=Object.keys(e);return Object.assign(o[t],Object.values(e[t])),{...o}},readState:()=>o,addToTrolley(e){o.trolley=[...o.trolley,e]},removeFromTrolley(e){const t=o.trolley.findIndex(t=>t.id===e.id);o.trolley.splice(t,1)},addToFavourites(e){o.favourites=[...o.favourites,e]},removeFromFavourites(e){const t=o.favourites.findIndex(t=>t.id===e.id);o.favourites.splice(t,1)},toShowInTrolleyOrFavourites(e){const t=e.reduce((e,t)=>(e[t.id]?e[t.id]++:e[t.id]=1,e),{});let r=Object.values(t),o=[];for(let r in t){const t=e.findIndex(e=>parseInt(e.id)===parseInt(r));o=[...o,t]}return o.map((t,o)=>({item:e[t],price:e[t].price,qty:r[o],total:r[o]*e[t].price}))},addCurrentlySelectedItem(e){o.currentlySelectedItem=[e]}};var n=o;var c=e=>{let t,r=null;"trolley"===e&&(r=document.querySelector(".header__accountSettings__trolley__counter"),t=n.readState().trolley),"favourites"===e&&(r=document.querySelector(".header__accountSettings__wishlist__counter"),t=n.readState().favourites),t.length>0?(r.classList.remove("display"),r.innerHTML=`<div class="${e}Counter">${t.length}</div>`):r.classList.add("display")};var a=e=>{const t=document.querySelector(".header__accountSettings__trolley__hover"),r=document.querySelector(".checkoutButton"),o=document.querySelector(".checkoutModal"),n=document.querySelector(".modalCloser"),c=document.querySelector(".checkoutModal__container");t.addEventListener("click",t=>{t.target===r&&(e.trolley.length>0?o.classList.remove("display"):alert("Your backet is empty, please add products to your basket."))}),n.addEventListener("click",()=>{o.classList.add("display")}),o.addEventListener("click",()=>{o.classList.add("display")}),c.addEventListener("click",e=>{e.stopPropagation()})};const d=(e,t)=>{const r=document.querySelector(".checkProducts");r.innerHTML="";const o=n.readState().trolley;n.toShowInTrolleyOrFavourites(o).forEach(e=>{let t="";for(let r=0;r<e.item.stars;r++)t+='<i class="fa fa-star-o" aria-hidden="true"></i>';const o=document.createElement("div");o.classList.add("addedToTrolleyDropDown"),r.appendChild(o);const a=document.createElement("img");a.setAttribute("src",""+e.item.image);const s=document.createElement("div");s.classList.add("titleQtyContainer");const i=document.createElement("h4");i.innerHTML=e.item.title;const u=document.createElement("p");u.innerHTML=t,s.append(i,u);const m=document.createElement("p");m.innerHTML=""+e.qty;const p=document.createElement("i");p.classList.add("fa"),p.classList.add("fa-times"),p.classList.add("trolleyRemoveButton"),p.id=e.id,o.append(a,s,m,p),p.onclick=()=>{n.removeFromTrolley(e.item),d(),l(),c("trolley")}});const a=document.createElement("p");a.classList.add("subTotal"),r.appendChild(a),a.innerHTML=`Subtotal (${e} items): £${t}`};var s=d;const i=()=>{let e=document.querySelector(".header__accountSettings__trolley__hover");e.innerHTML="";const t=n.readState().trolley,r=n.toShowInTrolleyOrFavourites(t);r.forEach(t=>{let r="";for(let e=0;e<t.item.stars;e++)r+='<i class="fa fa-star-o" aria-hidden="true"></i>';const o=document.createElement("div");o.classList.add("addedToTrolleyDropDown"),e.appendChild(o);const a=document.createElement("img");a.setAttribute("src",""+t.item.image);const d=document.createElement("div");d.classList.add("titleQtyContainer");const s=document.createElement("h4");s.innerHTML=t.item.title;const l=document.createElement("p");l.innerHTML=r,d.append(s,l);const u=document.createElement("p");u.innerHTML=""+t.qty;const m=document.createElement("i");m.classList.add("fa"),m.classList.add("fa-times"),m.classList.add("trolleyRemoveButton"),m.id=t.id,o.append(a,d,u,m),m.onclick=()=>{n.removeFromTrolley(t.item),i(),c("trolley")}});const o=r.reduce((e,t)=>e+parseInt(t.price)*parseInt(t.qty),0),d=r.reduce((e,t)=>e+parseInt(t.qty),0),l=document.createElement("p");l.classList.add("subTotal"),e.appendChild(l),l.innerHTML=`Subtotal (${d} items): £${o}`;const u=document.createElement("button");u.classList.add("checkoutButton"),e.appendChild(u),u.innerHTML="Checkout",s(d,o),a(n)};var l=i;const u=()=>{let e=document.querySelector(".header__accountSettings__wishlist__hover");e.innerHTML="";const t=n.readState().favourites,r=n.toShowInTrolleyOrFavourites(t);r.forEach(t=>{let r="";for(let e=0;e<t.item.stars;e++)r+='<i class="fa fa-star-o" aria-hidden="true"></i>';const o=document.createElement("div");o.classList.add("addedToTrolleyDropDown"),e.appendChild(o);const a=document.createElement("img");a.setAttribute("src",""+t.item.image);const d=document.createElement("div");d.classList.add("titleQtyContainer");const s=document.createElement("h4");s.innerHTML=t.item.title;const i=document.createElement("p");i.innerHTML=r,d.append(s,i);const l=document.createElement("p");l.innerHTML=t.qty;const m=document.createElement("i");m.classList.add("fa"),m.classList.add("fa-times"),m.classList.add("favouritesRemoveButton"),m.id=t.id,o.append(a,d,l,m),m.onclick=()=>{n.removeFromFavourites(t.item),u(),c("favourites")}});const o=r.reduce((e,t)=>e+parseInt(t.price)*parseInt(t.qty),0),d=r.reduce((e,t)=>e+parseInt(t.qty),0),s=document.createElement("p");s.classList.add("subTotal"),e.appendChild(s),s.innerHTML=`Subtotal (${d} items): £${o}`,a(n)};var m=u;var p=e=>{const t=document.querySelector(".storeFront__productArea__products"),r=document.querySelector(".breadcrumb__name"),o=document.querySelector("#productTitle"),n=document.querySelector("#numberOfProducts");t.innerHTML="",e.length>0?(n.textContent=`Showing ${e.length} products`,e.forEach((function(e){r.textContent=""+e.type,o.innerHTML=""+e.type;let n="";for(let t=0;t<e.stars;t++)n+='<i class="fa fa-star-o" aria-hidden="true"></i>';let a=document.createElement("div");a.classList.add("storeFront__productArea__products__product"),a.id=e.id,t.appendChild(a);let d=document.createElement("img");d.classList.add("productMoreInfo"),d.setAttribute("src",""+e.image);let s=document.createElement("div");s.classList.add("storeFront__productArea__products__product__description"),a.append(d,s);let i=document.createElement("h3");i.classList.add("storeFront__productArea__products__product__title"),i.classList.add("productMoreInfo"),i.innerText=e.title;let u=document.createElement("div");u.classList.add("storeFront__productArea__products__product__stars"),u.classList.add("productMoreInfo"),u.innerHTML=n;let p=document.createElement("h4");p.classList.add("storeFront__productArea__products__product__price"),p.classList.add("productMoreInfo"),p.innerText=e.price;let _=document.createElement("h3");_.classList.add("storeFront__productArea__products__product__special"),_.classList.add("productMoreInfo"),_.innerText=e.delivery;let y=document.createElement("div");s.append(i,u,p,_,y);let h=document.createElement("button");h.classList.add("btn"),h.classList.add("add"),h.innerHTML='<i class="fa fa-shopping-cart" aria-hidden="true"></i> Add to Trolley';let f=document.createElement("button");f.classList.add("btn"),f.classList.add("favourite"),f.innerHTML='<i class="fa fa-heart" aria-hidden="true"></i>',y.append(h,f),a.onclick=()=>{e.addCurrentlySelectedItem(e)},h.onclick=t=>{t.stopPropagation(),e.addToTrolley(e),l("trolley"),c("trolley"),h.innerHTML='<i class="fa fa-shopping-cart" aria-hidden="true"></i> Item Added',h.style.backgroundColor="blue",setTimeout(()=>{h.style.backgroundColor="green",h.innerHTML='<i class="fa fa-shopping-cart" aria-hidden="true"></i> Add to Trolley'},1500)},f.onclick=t=>{t.stopPropagation(),e.addToFavourites(e),m(),c("favourites"),f.innerHTML='<i class="fa fa-plus" aria-hidden="true"></i>',f.style.backgroundColor="blue",setTimeout(()=>{f.style.backgroundColor="white",f.innerHTML='<i class="fa fa-heart" aria-hidden="true"></i>'},1500)}}))):(o.textContent="No products found",r.textContent="No Products",n.textContent=`Showing ${e.length} products`,t.innerHTML="<h2>No products found matching those filter settings</h2>"),document.querySelectorAll(".storeFront__productArea__products__product__special").forEach(e=>{"Express"===e.innerHTML?e.classList.add("green"):e.classList.add("red")})};var _=e=>{const t=document.querySelector(".productMoreInfoModal__container"),r=document.querySelector(".productMoreInfoModal"),o=document.querySelector(".productMoreInfoModal__title_h3"),a=document.querySelector(".productMoreInfoModal__price"),d=document.querySelector(".productMoreInfoModal__image"),s=document.querySelector(".productMoreInfoModal__about__description"),i=document.querySelector(".thumbNail1"),u=document.querySelector(".thumbNail2"),p=document.querySelector(".thumbNail3");o.innerHTML=e[0].title,a.innerHTML=`<p>£${e[0].price}</p>`,d.innerHTML=`<img src="${e[0].image}" alt="${e[0].title}">`,s.innerHTML=`<p>${e[0].description}</p>`;const _=document.createElement("button");_.classList.add("btn"),_.classList.add("addProduct"),_.innerHTML='<i class="fa fa-shopping-cart" aria-hidden="true"></i> Add Trolley';const y=document.createElement("button");y.classList.add("btn"),y.classList.add("favourite"),y.classList.add("favouriteModel"),y.innerHTML='<i class="fa fa-heart" aria-hidden="true"></i> Add To Favourites',a.append(_,y),_.onclick=()=>{n.addToTrolley(e[0]),l(),c("trolley"),_.innerHTML='<i class="fa fa-shopping-cart" aria-hidden="true"></i> Item Added',_.style.backgroundColor="blue",setTimeout(()=>{_.style.backgroundColor="green",_.innerHTML='<i class="fa fa-shopping-cart" aria-hidden="true"></i> Add to Trolley'},1500)},y.onclick=()=>{n.addToFavourites(e[0]),m(),c("favourites"),y.innerHTML='<i class="fa fa-heart" aria-hidden="true"></i> Item Added',y.style.backgroundColor="blue",setTimeout(()=>{y.style.backgroundColor="white",y.innerHTML='<i class="fa fa-heart" aria-hidden="true"></i> Add To Favourites'},1500)},r.onclick=e=>{r.classList.add("display")},t.onclick=e=>{e.stopPropagation()},i.innerHTML=`<img src="${e[0].image}" alt="${e[0].title}">`,u.innerHTML=`<img src="${e[0].image}" alt="${e[0].title}">`,p.innerHTML=`<img src="${e[0].image}" alt="${e[0].title}">`};const y=()=>{let e={};document.querySelectorAll('input[name*="star"],input[name*="delivery"],input[name*="price"]').forEach(t=>{t.oninput=function(){if(this.checked)this.name in e||(e[this.name]=[]),e[this.name].push(this.value);else{let t=e[this.name].findIndex(e=>e==this.name);e[this.name].splice(t,1)}let t=[...n.currentOnScreenProducts];e.stars&&e.stars.length&&(t=t.filter(t=>e.stars.includes(t.stars))),e.delivery&&e.delivery.length&&(t=t.filter(t=>e.delivery.includes(t.delivery))),e.price&&e.price.length&&(t=t.filter(t=>e.price.some(e=>{let[r,o]=e.split("_");return+t.price>+r&&+t.price<+o}))),p(t),T(n)}})};function h(){document.querySelectorAll('input[name*="star"],input[name*="delivery"],input[name*="price"]').forEach(e=>{e.checked=!1}),p(n.currentOnScreenProducts),T(n)}var f=class{constructor(e,t,r,o,n,c,a,d){this.id=e,this.title=t,this.image=r,this.price=o,this.type=n,this.stars=c,this.description=a,this.delivery=d}addToTrolley(e){n.trolley=[...n.trolley,e]}addToFavourites(e){n.favourites=[...n.favourites,e]}addCurrentlySelectedItem(e){n.currentlySelectedItem=[e]}};var v=e=>{const t=e.reduce((e,t)=>(e.push(new f(t.id,t.title,t.image,t.price,t.type,t.stars,t.description,t.delivery)),e),[]);return n.setState({currentOnScreenProducts:t}),n.readState()};const L=e=>{v(e),p(n.currentOnScreenProducts),T(n.readState())};var S=e=>fetch("./scripts/products.json").then(e=>e.json()).then(t=>L(t.products[e])).catch(e=>{throw e});var T=e=>{let t=document.querySelectorAll(".storeFront__productArea__products__product"),r=document.querySelector(".header__accountSettings__account"),o=document.querySelector(".header__accountSettings__account__hover"),n=document.querySelector(".header__accountSettings__wishlist"),c=document.querySelector(".header__accountSettings__wishlist__hover"),a=document.querySelector(".header__accountSettings__trolley"),d=document.querySelector(".header__accountSettings__trolley__hover"),s=document.querySelector(".storeFront__productArea__filterButtonMobile button"),i=document.querySelector(".storeFront__productArea__filterButtonMobile__active"),l=document.querySelector(".closer"),u=document.querySelector(".modalProductCloser");const m=document.querySelector(".productMoreInfoModal"),p=document.querySelector(".storeFront__productArea__filterButtonMobile__active_menu__options");document.querySelector(".checkOutPayment").onclick=function(){alert("Apologies, this is a front end demo only and there is no payment system.")},i.addEventListener("click",e=>{i.classList.add("display")}),p.addEventListener("click",e=>{e.stopPropagation()}),s.addEventListener("click",e=>{i.classList.remove("display")}),l.addEventListener("click",e=>{i.classList.add("display")}),u.addEventListener("click",e=>{m.classList.add("display")}),r.addEventListener("mouseover",()=>{o.classList.remove("display")}),r.addEventListener("mouseout",()=>{o.classList.add("display")}),n.addEventListener("mouseover",()=>{e.favourites.length>0&&c.classList.remove("display")}),n.addEventListener("mouseout",()=>{c.classList.add("display")}),a.addEventListener("mouseover",()=>{e.trolley.length>0&&d.classList.remove("display")}),a.addEventListener("mouseout",()=>{d.classList.add("display")}),t.forEach(t=>t.addEventListener("click",t=>{const r=e.readState().currentlySelectedItem;_(r),m.classList.remove("display")})),document.querySelector("#productsSearch").onchange=function(t){e.currentOnScreenProducts=[],h(),S(t.target.value)}};S("televisions"),y(),document.querySelector("#filter").addEventListener("change",e=>{"high"===e.target.value?(n.currentOnScreenProducts.sort((e,t)=>e.price-t.price),h(),p(n.currentOnScreenProducts),T(n.readState())):(n.currentOnScreenProducts.sort((e,t)=>e.price-t.price).reverse(),h(),p(n.currentOnScreenProducts),T(n.readState()))}),window.addEventListener("resize",(function(e){window.innerWidth>999&&(h(),p(n.currentOnScreenProducts),T(n.readState()))}))}]);