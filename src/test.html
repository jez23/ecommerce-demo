<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
<p>Hello</p>


    <script>

        const trolleyOrFavourite = [
        {
                    id: "10",
                    title: "Hisense Roku TV 50 Inch R50B7120UK 4K Smart LED TV with HDR",
                    image: "./img/tvs/tv10.jpg",
                    customerRating: "4",
                   price: "349.00",
                    url: "url",
                    screenSize: "big",
                    resolution: "Good",
                    brand: "Samsung",
                    stars: "3",
                    type: "Televisions",
                    delivery: "Free",
                    description: "The first Roku TV in the UK, brought to you by Hisense. Start streaming 150,000+ movies and TV episodes across a range of apps such as Netflix, Now TV, BBC iPlayer, ITV Hub, All 4 and Freeview Play. Enjoy every detail in stunning 4K HDR offering 4x more pixels than Full HD, whilst DTS Studio Sound delivers the ultimate audio experience with enhanced bass and clearer vocals."
                },
                {
                    id: "11",
                    title: "LG 55 Inch 55UN7300 Smart 4K Ultra HD LED TV with HDR",
                    image: "./img/tvs/tv11.jpg",
                    customerRating: "4",
                    price: "529.00",
                    url: "url",
                    screenSize: "big",
                    resolution: "Good",
                    brand: "Samsung",
                    stars: "4",
                    type: "Televisions",
                    delivery: "Express",
                    description: "LG UHD TV was made to entertain by taking everything you watch to a new level. Whether it's cinema, sports, or games, it delivers real 4K images with vivid colour and fine detail. Enjoy more realistic images in four times the resolution of Full HD. Multiple virtual audio channels create a more immersive sound experience. Enjoy subtle dialogue and sophisticated sound as if you were in the scene itself."
                },
                {
                    id: "11",
                    title: "LG 55 Inch 55UN7300 Smart 4K Ultra HD LED TV with HDR",
                    image: "./img/tvs/tv11.jpg",
                    customerRating: "4",
                    price: "529.00",
                    url: "url",
                    screenSize: "big",
                    resolution: "Good",
                    brand: "Samsung",
                    stars: "4",
                    type: "Televisions",
                    delivery: "Express",
                    description: "LG UHD TV was made to entertain by taking everything you watch to a new level. Whether it's cinema, sports, or games, it delivers real 4K images with vivid colour and fine detail. Enjoy more realistic images in four times the resolution of Full HD. Multiple virtual audio channels create a more immersive sound experience. Enjoy subtle dialogue and sophisticated sound as if you were in the scene itself."
                }

        ]


        const quantityAndValues = trolleyOrFavourite.reduce((acc, cur) => {
                acc[cur.id]? acc[cur.id]++ : acc[cur.id] = 1;
                return acc;
            }, {})
       
            let values = Object.values(quantityAndValues);
            let findIndexsInTrolley = []
            
            for(let productIndex in quantityAndValues){
                const index =  trolleyOrFavourite.findIndex(productInTrolley => parseInt(productInTrolley.id) === parseInt(productIndex));
                findIndexsInTrolley = [...findIndexsInTrolley, index];
            }
 
            const finalTrolleyArray = findIndexsInTrolley.map((indexOfProduct, index) => {
                return {
                    item: trolleyOrFavourite[indexOfProduct],
                    price: trolleyOrFavourite[indexOfProduct].price,
                    qty: values[index],
                    total: values[index] * trolleyOrFavourite[indexOfProduct].price
                }
            })

           return finalTrolleyArray;


    </script>
</body>
</html>